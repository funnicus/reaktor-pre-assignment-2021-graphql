[{"C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\index.js":"1","C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\App.js":"2","C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\reportWebVitals.js":"3","C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\services.js":"4","C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\Product.js":"5","C:\\Users\\juhku\\Programs\\Websites\\reaktor-pre-assignment-2021-graphql\\client\\src\\index.js":"6","C:\\Users\\juhku\\Programs\\Websites\\reaktor-pre-assignment-2021-graphql\\client\\src\\App.js":"7","C:\\Users\\juhku\\Programs\\Websites\\reaktor-pre-assignment-2021-graphql\\client\\src\\reportWebVitals.js":"8","C:\\Users\\juhku\\Programs\\Websites\\reaktor-pre-assignment-2021-graphql\\client\\src\\Product.js":"9"},{"size":500,"mtime":499162500000,"results":"10","hashOfConfig":"11"},{"size":1082,"mtime":1610286732912,"results":"12","hashOfConfig":"11"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"11"},{"size":228,"mtime":1610181894017,"results":"14","hashOfConfig":"11"},{"size":500,"mtime":1610209676973,"results":"15","hashOfConfig":"11"},{"size":822,"mtime":1614456355508,"results":"16","hashOfConfig":"17"},{"size":2082,"mtime":1614456407239,"results":"18","hashOfConfig":"17"},{"size":375,"mtime":1610478225579,"results":"19","hashOfConfig":"17"},{"size":5765,"mtime":1614444294197,"results":"20","hashOfConfig":"17"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},"gcz612",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"23"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},"30ca3o",{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"35"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"35"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"43"},"C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\index.js",[],["44","45"],"C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\App.js",[],"C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\reportWebVitals.js",[],"C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\services.js",[],["46","47"],"C:\\Users\\juhku\\Programs\\Websites\\preassignment-reaktor-badapi\\client\\src\\Product.js",[],"C:\\Users\\juhku\\Programs\\Websites\\reaktor-pre-assignment-2021-graphql\\client\\src\\index.js",[],["48","49"],"C:\\Users\\juhku\\Programs\\Websites\\reaktor-pre-assignment-2021-graphql\\client\\src\\App.js",["50"],"import React, { useState, useEffect } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport { gql, useLazyQuery, NetworkStatus } from \"@apollo/client\";\r\nimport Product from './Product';\r\nimport './App.css'\r\n\r\nconst GET_PRODUCTS = gql`\r\n  query getProducts($name: String!){\r\n    getProduct(name: $name){\r\n      name\r\n      manufacturer\r\n      color\r\n      awailability\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nconst App = () => {\r\n\r\n  const [getProducts, { loading, data, refetch, networkStatus }] = useLazyQuery(GET_PRODUCTS, {\r\n    fetchPolicy: \"network-only\"\r\n  });\r\n  \r\n  const [ products, setProducts ] = useState([]);\r\n  const [ value, setValue ] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if(data && data.getProduct) setProducts(data.getProduct);  \r\n  }, [data, loading])\r\n\r\n  const getProductsFromApi = async (product) => {\r\n      setProducts([]);\r\n      getProducts({ \r\n        variables: { name: product },\r\n        pollInterval: 5000,\r\n        notifyOnNetworkStatusChange: true,\r\n      });\r\n  }\r\n\r\n  if (networkStatus === NetworkStatus.refetch) console.log(\"refetch??\");\r\n\r\n  return (\r\n    <div className=\"App\" style={{ padding: \"10vh\" }}>\r\n      <BottomNavigation value={value} onChange={(_event, newValue) => {setValue(newValue);}} showLabels >\r\n        <BottomNavigationAction label=\"Beanies\" onClick={() => getProductsFromApi('beanies')} />\r\n        <BottomNavigationAction label=\"Gloves\" onClick={() => getProductsFromApi('gloves')} />\r\n        <BottomNavigationAction label=\"Facemasks\" onClick={() => getProductsFromApi('facemasks')} />\r\n      </BottomNavigation>\r\n      <div style={{ width: \"80%\", margin: \"auto\", marginTop: \"5vh\"}}>\r\n        {products.length > 1 ? <Product products={products} /> : !loading ? <span>select a category...</span> : <div style={{ margin: \"auto\", width: \"300px\" }}><CircularProgress size={100}/></div> }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\juhku\\Programs\\Websites\\reaktor-pre-assignment-2021-graphql\\client\\src\\reportWebVitals.js",[],"C:\\Users\\juhku\\Programs\\Websites\\reaktor-pre-assignment-2021-graphql\\client\\src\\Product.js",[],["51","52"],{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"53","replacedBy":"57"},{"ruleId":"55","replacedBy":"58"},{"ruleId":"53","replacedBy":"59"},{"ruleId":"55","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":23,"column":40,"nodeType":"63","messageId":"64","endLine":23,"endColumn":47},{"ruleId":"53","replacedBy":"65"},{"ruleId":"55","replacedBy":"66"},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],["67"],["68"],["67"],["68"],"no-unused-vars","'refetch' is assigned a value but never used.","Identifier","unusedVar",["67"],["68"],"no-global-assign","no-unsafe-negation"]